<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DeosDios</title>
  <style>
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#000;color:#fff}
    nav{display:flex;gap:16px;padding:16px;background:#000;border-bottom:1px solid #222}
    nav button{background:none;border:none;color:#fff;font-size:16px;cursor:pointer}
    .page{display:none;padding:40px;max-width:900px;margin:0 auto}
    .hero-video{position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;opacity:.25}
    .btn{padding:12px 20px;border:1px solid #fff;background:none;color:#fff;cursor:pointer;margin-top:20px}

    .quiz-box{margin-top:30px;border:1px solid #333;padding:20px}
    .answers button{display:block;margin:8px 0;width:100%;text-align:left}
  </style>
</head>
<body>

<video class="hero-video" autoplay muted loop playsinline>
  <source src="https://cdn.pixabay.com/video/2023/03/23/155453-811958298_large.mp4" type="video/mp4">
</video>

<nav>
  <button onclick="showPage('home')">Home</button>
  <button onclick="showPage('protocol')">Protocol</button>
  <button onclick="showPage('manifesto')">Manifesto</button>
  <button onclick="showPage('faq')">FAQ</button>
  <button onclick="showPage('profile')">Profile</button>
</nav>

<div id="home" class="page">
  <h1>DEOS•DIOS</h1>
  <p>Deodorant shouldn’t be trial and error.</p>
</div>

<div id="protocol" class="page">
  <h1>The Protocol</h1>
  <p>We analyze sweat chemistry patterns to recommend better matches.</p>
</div>

<div id="manifesto" class="page">
  <h1>Manifesto</h1>
  <p>We believe you shouldn’t have to guess how your body works.</p>
</div>

<div id="faq" class="page">
  <h1>FAQ</h1>
  <p>This is not medical advice. We provide intelligent product matching only.</p>
</div>

<div id="profile" class="page">
  <h1>Your Profile</h1>
  <div class="quiz-box" id="quizContainer"></div>
</div>

<script>
/* ======================
   Navigation
====================== */
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.style.display='none');
  const el=document.getElementById(id);
  if(el) el.style.display='block';
}

/* ======================
   Quiz Data
====================== */
const quizSections = [
  {
    title: "Sweat",
    questions: [
      { id:"sweat_level", q:"How much do you sweat daily?", options:["Low","Moderate","Heavy"] },
      { id:"sweat_smell", q:"What best describes your odor?", options:["Sour","Sulfur","Musty","Clean"] }
    ]
  },
  {
    title: "Skin",
    questions: [
      { id:"skin_type", q:"What’s your skin type?", options:["Dry","Balanced","Oily","Sensitive"] }
    ]
  }
];

let currentSection=0;
let currentQ=0;
let answers={};

/* ======================
   Quiz Helpers
====================== */
function totalQuestions(){
  return quizSections.reduce((a,s)=>a+s.questions.length,0);
}

function globalIndex(){
  let idx=0;
  for(let i=0;i<currentSection;i++){
    idx+=quizSections[i].questions.length;
  }
  return idx+currentQ;
}

function currentQuestion(){
  return quizSections[currentSection].questions[currentQ];
}

/* ======================
   Render Quiz
====================== */
function renderQuiz(){
  const box=document.getElementById("quizContainer");
  const q=currentQuestion();
  const progress=Math.round((globalIndex()+1)/totalQuestions()*100);

  let html=`
    <div>Progress: ${progress}%</div>
    <h3>${q.q}</h3>
    <div class="answers">
  `;

  q.options.forEach(opt=>{
    const selected = answers[q.id]===opt ? 'style="border:1px solid #fff"' : '';
    html += `<button ${selected} onclick="selectAnswer('${q.id}','${opt}')">${opt}</button>`;
  });

  html += `</div>
    <div style="margin-top:20px;">
      ${globalIndex()>0 ? '<button class="btn" onclick="prevQ()">Back</button>' : ''}
      ${globalIndex()<totalQuestions()-1 ? '<button class="btn" onclick="nextQ()">Next</button>' : '<button class="btn" onclick="submitQuiz()">Finish</button>'}
    </div>`;

  box.innerHTML=html;
}

/* ======================
   Quiz Actions
====================== */
function selectAnswer(id,val){
  answers[id]=val;
  renderQuiz();
}

function nextQ(){
  if(currentQ < quizSections[currentSection].questions.length-1){
    currentQ++;
  }else if(currentSection < quizSections.length-1){
    currentSection++;
    currentQ=0;
  }
  renderQuiz();
}

function prevQ(){
  if(currentQ>0){
    currentQ--;
  }else if(currentSection>0){
    currentSection--;
    currentQ=quizSections[currentSection].questions.length-1;
  }
  renderQuiz();
}

function submitQuiz(){
  const box=document.getElementById("quizContainer");
  box.innerHTML = `
    <h2>Your Profile Result</h2>
    <pre>${JSON.stringify(answers,null,2)}</pre>
    <button class="btn" onclick="resetQuiz()">Restart</button>
  `;
}

function resetQuiz(){
  currentSection=0;
